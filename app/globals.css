:root {
  --primary: #137fec;
  --primary-hover: #0d6bc4;
  --bg: #f6f7f8;
  --surface: #ffffff;
  --border: #e2e8f0;
  --text: #0f172a;
  --text-secondary: #64748b;
  --accent: #137fec;
  --accent-hover: #0d6bc4;
  --accent-soft: #e0f0ff;
  --success: #059669;
  --success-soft: #d1fae5;
  --warning: #d97706;
  --warning-soft: #fef3c7;
  --info: #0891b2;
  --info-soft: #cffafe;
  --radius: 0.5rem;
  --radius-sm: 0.25rem;
  --radius-lg: 0.75rem;
  --shadow: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-card: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-card-hover: 0 20px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1);
}

.dark {
  --bg: #101922;
  --surface: #1e293b;
  --border: #334155;
  --text: #f1f5f9;
  --text-secondary: #94a3b8;
  --accent: #3b82f6;
  --accent-hover: #60a5fa;
  --accent-soft: #1e3a5f;
  --primary: #3b82f6;
  --primary-hover: #60a5fa;
  --shadow: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-card: 0 1px 3px rgba(0,0,0,0.2);
  --shadow-card-hover: 0 20px 25px -5px rgba(0,0,0,0.3);
}

* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  vertical-align: middle;
}

/* Sticky header - reference style */
.header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
}

.headerInner {
  max-width: 1440px;
  margin: 0 auto;
  padding: 0 1.5rem;
  height: 4rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.headerLeft { display: flex; align-items: center; gap: 2rem; }
.headerLogo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}
.headerLogoIcon {
  width: 2rem;
  height: 2rem;
  background: var(--primary);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 1.25rem;
}
.title { font-size: 1.25rem; font-weight: 700; margin: 0; letter-spacing: -0.02em; color: var(--text); }

.headerNav { display: flex; align-items: center; gap: 1.5rem; }
.headerNavLink { font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); text-decoration: none; }
.headerNavLink:hover { color: var(--primary); }
.headerNavLink.active { font-weight: 600; color: var(--primary); }

.headerRight { display: flex; align-items: center; gap: 1rem; }
.headerSearchWrap { position: relative; display: none; }
@media (min-width: 1024px) { .headerSearchWrap { display: block; } }
.headerSearchWrap .material-symbols-outlined { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: var(--text-secondary); font-size: 1.25rem; }
.headerSearch {
  padding: 0.5rem 1rem 0.5rem 2.5rem;
  width: 16rem;
  background: var(--bg);
  border: none;
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  color: var(--text);
}
.headerSearch::placeholder { color: var(--text-secondary); }
.headerSearch:focus { outline: none; box-shadow: 0 0 0 2px var(--primary); }

.themeBtn {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s, color 0.2s;
}
.themeBtn:hover { background: var(--border); color: var(--text); }

/* Quick filter chips */
.chipsWrap {
  max-width: 1440px;
  margin: 0 auto;
  padding: 0.75rem 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  overflow-x: auto;
  scrollbar-width: none;
}
.chipsWrap::-webkit-scrollbar { display: none; }
.chip {
  flex-shrink: 0;
  padding: 0.375rem 1rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
  white-space: nowrap;
}
.chipPrimary { background: var(--primary); color: #fff; }
.chipPrimary:hover { background: var(--primary-hover); }
.chipSecondary { background: var(--border); color: var(--text); }
.chipSecondary:hover { background: var(--text-secondary); color: var(--surface); }
.dark .chipSecondary { background: var(--surface); }
.dark .chipSecondary:hover { background: var(--text-secondary); }

.main {
  max-width: 1440px;
  margin: 0 auto;
  padding: 1.5rem;
}

.mainLayout { display: flex; gap: 2rem; position: relative; align-items: flex-start; }

.sidebar {
  flex-shrink: 0;
  width: 18rem;
  position: sticky;
  top: 7rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  box-shadow: var(--shadow);
  max-height: calc(100vh - 10rem);
  overflow-y: auto;
}
@media (max-width: 1024px) { .sidebar { display: none; } }
.filter-scrollbar::-webkit-scrollbar { width: 4px; }
.filter-scrollbar::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

.sidebarHeader { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; }
.sidebarTitle {
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.sidebarReset { font-size: 0.75rem; font-weight: 700; color: var(--primary); background: none; border: none; cursor: pointer; padding: 0; }
.sidebarReset:hover { text-decoration: underline; }

.sidebarSection { margin-bottom: 1.5rem; }
.sidebarSectionTitle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 0.75rem;
}
.sidebarSectionTitle .material-symbols-outlined { font-size: 1.25rem; color: var(--text-secondary); }
.sidebarDivider { height: 1px; background: var(--border); margin: 1rem 0; }

/* Price range */
.rangeSliderWrap {
  --min-pct: 0;
  --max-pct: 100;
  --price-track: var(--primary);
  --track-line: var(--border);
}
.dark .rangeSliderWrap {
  --track-line: #475569;
}
.rangeSliderWrap .priceRangeLabel {
  margin-bottom: 0.5rem;
}
.priceRangeValues {
  display: flex;
  justify-content: space-between;
  margin-top: 0.35rem;
  padding: 0 2px;
}
.priceRangeMin,
.priceRangeMax {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--primary);
}
.rangeSliderTrack {
  position: relative;
  min-height: 28px;
  display: flex;
  align-items: center;
  width: 100%;
}
.rangeSliderTrack::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 8px;
  top: 50%;
  transform: translateY(-50%);
  border-radius: 999px;
  background: var(--track-line);
  z-index: 0;
}
.rangeSliderTrack .slider {
  position: absolute;
  width: 100%;
  height: 10px;
  margin: 0;
  pointer-events: none;
  top: 50%;
  transform: translateY(-50%);
}
.rangeSliderTrack .slider::-webkit-slider-runnable-track {
  height: 10px;
  border-radius: 5px;
  background: transparent;
}
/* Outlined teal circle, white/surface interior (both thumbs) */
.rangeSliderTrack .sliderMin::-webkit-slider-thumb,
.rangeSliderTrack .sliderMax::-webkit-slider-thumb {
  pointer-events: auto;
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--surface);
  cursor: pointer;
  border: 3px solid var(--price-track);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
  margin-top: -6px;
}
.rangeSliderTrack .slider::-moz-range-track {
  height: 10px;
  border-radius: 5px;
  background: transparent;
}
.rangeSliderTrack .sliderMin::-moz-range-thumb,
.rangeSliderTrack .sliderMax::-moz-range-thumb {
  pointer-events: auto;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--surface);
  cursor: pointer;
  border: 3px solid var(--price-track);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
}
.rangeSliderTrack .slider::-moz-range-thumb {
  pointer-events: auto;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--surface);
  cursor: pointer;
  border: 3px solid var(--price-track);
  box-shadow: 0 1px 3px rgba(0,0,0,0.12);
}
/* Teal segment between thumbs (active range) */
.rangeSliderTrack::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 8px;
  top: 50%;
  transform: translateY(-50%);
  border-radius: 999px;
  background: linear-gradient(
    to right,
    transparent 0,
    transparent var(--min-pct),
    var(--price-track) var(--min-pct),
    var(--price-track) var(--max-pct),
    transparent var(--max-pct),
    transparent 100%
  );
  pointer-events: none;
  z-index: 1;
}
.rangeSliderTrack .sliderMin { z-index: 2; }
.rangeSliderTrack .sliderMax { z-index: 2; }

.slider {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: var(--border);
  -webkit-appearance: none;
  appearance: none;
}
.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid var(--surface);
  box-shadow: var(--shadow);
}
.slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid var(--surface);
  box-shadow: var(--shadow);
}

.resetBtn { width: 100%; margin-top: 1rem; }

.content { flex: 1; min-width: 0; }

.summaryBar {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 1.5rem;
}
@media (min-width: 768px) {
  .summaryBar { flex-direction: row; align-items: center; justify-content: space-between; }
}
.summaryTitle { font-size: 1.25rem; font-weight: 700; margin: 0; color: var(--text); }
.summaryCount { font-size: 0.875rem; color: var(--text-secondary); margin: 0.25rem 0 0 0; }
.summarySort { display: flex; align-items: center; gap: 0.5rem; }
.summarySortLabel { font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); }
.summarySortSelect {
  font-size: 0.875rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 0.5rem 0.75rem;
  color: var(--text);
  min-width: 11rem;
}
.summarySortSelect:focus { outline: none; box-shadow: 0 0 0 2px var(--primary); }

.filters {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  align-items: flex-end;
  padding: 1rem 1.25rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow);
}

.filterGroup { display: flex; flex-direction: column; gap: 0.35rem; min-width: 0; }
.filterGroup label {
  font-size: 0.7rem; font-weight: 600; color: var(--text-secondary);
  text-transform: uppercase; letter-spacing: 0.06em;
}
.filterGroup input, .filterGroup select {
  padding: 0.6rem 0.75rem; min-height: 44px; border: 1px solid var(--border);
  border-radius: var(--radius-sm); background: var(--surface); color: var(--text);
  font-size: 0.9rem; min-width: 120px;
}
/* Price range: no box (no border/padding/background on the slider container) */
.rangeSliderWrap input[type="range"] {
  padding: 0;
  min-height: 0;
  border: none;
  background: transparent;
  border-radius: 0;
}
.filterActions { display: flex; flex-wrap: wrap; gap: 0.5rem; align-items: center; margin-left: auto; }
.btn { padding: 0.6rem 1.1rem; min-height: 44px; background: var(--accent); color: #fff; border: none; border-radius: var(--radius-sm); font-weight: 600; font-size: 0.9rem; cursor: pointer; }
.btn:hover { background: var(--accent-hover); }
.btnSecondary { background: var(--border); color: var(--text); }
.btnSecondary:hover { background: var(--text-secondary); color: var(--surface); }
.count { color: var(--text-secondary); font-size: 0.85rem; font-weight: 500; }

.cards {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 1.5rem;
}
@media (min-width: 768px) {
  .cards { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 1280px) {
  .cards { grid-template-columns: repeat(3, 1fr); }
}
.cards.cardsAuction { }

/* Listing card - reference style with image */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-card);
  transition: box-shadow 0.3s, transform 0.2s;
  display: flex;
  flex-direction: column;
}
.card:hover { box-shadow: var(--shadow-card-hover); }

.cardImageWrap {
  position: relative;
  height: 14rem;
  overflow: hidden;
  background: var(--border);
}
.cardImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}
.cardImageIframe {
  border: 0;
  display: block;
}
.card:hover .cardImage:not(.cardImageIframe) { transform: scale(1.05); }
.cardBadges {
  position: absolute;
  top: 1rem;
  left: 1rem;
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}
.cardBadge {
  padding: 0.25rem 0.75rem;
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  border-radius: var(--radius-sm);
  color: #fff;
  box-shadow: var(--shadow);
}
.cardBadgePrimary { background: var(--primary); }
.cardBadgeSuccess { background: #22c55e; }
.cardBadgeSlate { background: var(--text); }
.cardBadgeAmber { background: #f59e0b; }

.cardBody { padding: 1.25rem; display: flex; flex-direction: column; gap: 1rem; flex: 1; }
.cardTitle { font-size: 1.125rem; font-weight: 700; line-height: 1.3; color: var(--text); margin: 0; }
.cardSubtitle { font-size: 0.75rem; color: var(--text-secondary); font-weight: 500; margin: 0; }
.cardLocRow { display: flex; align-items: center; gap: 0.375rem; font-size: 0.75rem; color: var(--text-secondary); }
.cardLocRow .material-symbols-outlined { font-size: 1rem; }
.cardPrice { font-size: 1.25rem; font-weight: 700; color: var(--primary); margin: 0; }
.cardFooter {
  padding-top: 1rem;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-top: auto;
}
.cardFooterLabel { font-size: 0.625rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-secondary); }
.cardFooterValue { font-size: 0.75rem; font-weight: 600; color: var(--text); }
.cardLink {
  padding: 0.5rem 1rem;
  background: var(--accent-soft);
  color: var(--primary);
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: var(--radius-sm);
  text-decoration: none;
  transition: background 0.2s, color 0.2s;
}
.cardLink:hover { background: var(--primary); color: #fff; }

.cardName { font-weight: 700; font-size: 1.05rem; line-height: 1.35; color: var(--text); }
.cardBuilder { color: var(--accent); font-size: 0.85rem; font-weight: 600; }
.cardLocality { color: var(--text-secondary); font-size: 0.85rem; }
.cardMeta { display: flex; flex-wrap: wrap; gap: 0.5rem; font-size: 0.8rem; }
.cardMeta span {
  background: var(--accent-soft); color: var(--accent);
  padding: 0.35rem 0.65rem; border-radius: 999px; font-weight: 500;
}
.cardMeta .statusNewLaunch { background: var(--info-soft); color: var(--info); }
.cardMeta .statusUnderConstruction { background: var(--warning-soft); color: var(--warning); }
.cardMeta .statusReadyToMove { background: var(--success-soft); color: var(--success); }
.empty { grid-column: 1 / -1; text-align: center; color: var(--text-secondary); padding: 3rem 1.5rem; font-size: 1rem; }
.loadMsg { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem; }
.card .textWrap { overflow: hidden; }
.card .textWrap .full { display: none; }
.card .textWrap.expanded .short { display: none; }
.card .textWrap.expanded .full { display: inline; }
.card .readMore { color: var(--accent); cursor: pointer; font-size: 0.8rem; font-weight: 600; margin-left: 0.25rem; }
.card .readMore:hover { text-decoration: underline; }

/* Auction listing card - same structure, compact body */
.cardAuction .cardBody { padding: 1rem; gap: 0.75rem; }
.cardAuction .cardTitle { font-size: 1rem; -webkit-line-clamp: 2; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; }
.cardAuction .cardPrice { font-size: 1.1rem; }
.cardAuctionMeta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.35rem 0.5rem;
  font-size: 0.7rem;
}
.cardAuctionTag { background: var(--accent-soft); color: var(--accent); padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: 600; }
.cardAuctionBank { background: var(--info-soft); color: var(--info); padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: 600; }
.cardAuctionSqft { color: var(--text-secondary); }
.cardAuctionDate { color: var(--text-secondary); }
.cardAuctionPriceRow { display: flex; flex-wrap: wrap; align-items: baseline; gap: 0.5rem; }
.cardAuctionPrice { font-weight: 700; color: var(--primary); }
.cardAuctionEmd { font-size: 0.75rem; color: var(--text-secondary); }
.cardAuctionLine { margin-top: 0.15rem; }
.cardAuctionText { font-size: 0.8rem; line-height: 1.4; color: var(--text-secondary); }
.cardAuctionDesc .cardAuctionText { max-height: 2.8em; overflow: hidden; }
.cardAuctionDesc:has(.textWrap.expanded) .cardAuctionText { max-height: none; }
.cardAuctionFooter {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border);
  font-size: 0.75rem;
}
.cardAuctionContact { color: var(--primary); font-weight: 600; }
.cardAuctionLink { color: var(--primary); font-weight: 600; text-decoration: none; font-size: 0.75rem; }
.cardAuctionLink:hover { text-decoration: underline; }

.footer {
  margin-top: 3rem;
  padding: 3rem 0;
  border-top: 1px solid var(--border);
  background: var(--surface);
}
.footerInner {
  max-width: 1440px;
  margin: 0 auto;
  padding: 0 1.5rem;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}
.footerLogo { display: flex; align-items: center; gap: 0.75rem; }
.footerLogoIcon {
  width: 2rem;
  height: 2rem;
  background: var(--border);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
}
.footerCopy { font-size: 0.875rem; font-weight: 700; color: var(--text-secondary); margin: 0; }

@media (max-width: 900px) {
  .mainLayout { flex-direction: column; }
  .sidebar { width: 100%; position: static; }
}

@media (max-width: 768px) {
  .headerLeft { gap: 0.75rem; flex-wrap: wrap; }
  .headerNav { gap: 0.5rem; }
  .headerNavLink { font-size: 0.8rem; }
  .title { font-size: 1rem; }
}

@media (max-width: 640px) {
  .headerInner { flex-wrap: wrap; padding: 0 1rem; height: auto; min-height: 4rem; }
  .headerLeft { flex-wrap: wrap; }
  .summaryBar { flex-direction: column; align-items: flex-start; }
  .filterGroup input, .filterGroup select { min-width: 0; width: 100%; }
}
